import{C as A,k as q,g as u,o as i,a,u as l,m as B,w as r,b as o,e as m,F as d,l as f,t as U,f as g,n as H}from"./app-CCJcod2T.js";import{_ as M}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-CM4iPQ0w.js";import{_ as c,a as w,b as p}from"./TextInput.vue_vue_type_script_setup_true_lang-CHc_z21z.js";import{P as _}from"./PrimaryButton-Bdb1pigu.js";import{_ as P,a as $}from"./Select-JQkuJq_B.js";import{_ as j}from"./SecondaryButton.vue_vue_type_script_setup_true_lang-Dl8u4Dsj.js";import"./ApplicationLogo-Dq86TXs6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"p-12"},E={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},Z={class:"mt-2"},D={class:"mt-2"},F={class:"mt-2"},S={class:"mt-2"},z={class:"mt-2"},L=["value"],T={class:"mt-2"},G=["value"],I={class:"mt-2"},J=["value"],K={class:"mt-4 flex items-center justify-center"},le={__name:"CreateProject",props:{equipments:Array,materials:Array,construction_crews:Array},setup(C){const t=A({name:"",description:"",image:null,end_date:"",materials:[],equipments:[],construction_crews:[]});function h(){t.post(route("project.create"))}const V=q({count:0}),k=q({count:0}),x=q({count:0});function b(v,e){v.count++,e.push({id:"",count:""})}function y(v,e,s){e.splice(v-1,1),s.count--}return(v,e)=>(i(),u(d,null,[a(l(B),{title:"Create Project"}),a(M,null,{default:r(()=>[o("div",N,[o("div",E,[o("form",{onSubmit:m(h,["prevent"]),enctype:"multipart/form-data"},[e[14]||(e[14]=o("div",{class:"w-full flex justify-center items-center"},[o("h2",{class:"text-2xl"},"Create Project")],-1)),o("div",Z,[a(c,{for:"name",value:"Name"}),a(w,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:l(t).name,"onUpdate:modelValue":e[0]||(e[0]=s=>l(t).name=s)},null,8,["modelValue"]),a(p,{class:"mt-2",message:l(t).errors.name},null,8,["message"])]),o("div",D,[a(c,{for:"description",value:"Description"}),a(P,{id:"description",class:"mt-1 block w-full",modelValue:l(t).description,"onUpdate:modelValue":e[1]||(e[1]=s=>l(t).description=s)},null,8,["modelValue"]),a(p,{class:"mt-2",message:l(t).errors.description},null,8,["message"])]),o("div",F,[a(c,{for:"image",value:"Add image"}),o("input",{id:"image",name:"image",type:"file",class:"mt-1 block w-full",onChange:e[2]||(e[2]=s=>l(t).image=s.target.files[0]),accept:"image/png, image/jpeg, image/jpg, image/webp"},null,32),a(p,{class:"mt-2",message:l(t).errors.image},null,8,["message"])]),o("div",S,[a(c,{for:"end_date",value:"End date"}),a(w,{id:"end_date",type:"date",class:"mt-1 block w-full",modelValue:l(t).end_date,"onUpdate:modelValue":e[3]||(e[3]=s=>l(t).end_date=s)},null,8,["modelValue"]),a(p,{class:"mt-2",message:l(t).errors.end_date},null,8,["message"])]),o("div",z,[a(c,{value:"Materials"}),(i(!0),u(d,null,f(V.value.count,s=>(i(),u("div",{key:s,class:"flex justify-between items-center w-full gap-2 mt-1"},[a($,{required:"",class:"block w-full",modelValue:l(t).materials[s-1].id,"onUpdate:modelValue":n=>l(t).materials[s-1].id=n},{default:r(()=>[(i(!0),u(d,null,f(C.materials,n=>(i(),u("option",{value:n.id},U(n.name),9,L))),256))]),_:2},1032,["modelValue","onUpdate:modelValue"]),a(w,{required:"",id:"end_date",type:"number",class:"mt-1 block w-full",modelValue:l(t).materials[s-1].count,"onUpdate:modelValue":n=>l(t).materials[s-1].count=n,placeholder:"Count"},null,8,["modelValue","onUpdate:modelValue"]),a(j,{onClick:m(n=>y(s,l(t).materials,V.value),["prevent"])},{default:r(()=>e[7]||(e[7]=[o("svg",{width:"15",height:"5",viewBox:"0 0 15 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M13.125 0H1.875C1.37772 0 0.900805 0.263393 0.549175 0.732234C0.197544 1.20107 0 1.83696 0 2.5C0 3.16304 0.197544 3.79893 0.549175 4.26777C0.900805 4.73661 1.37772 5 1.875 5H13.125C13.6223 5 14.0992 4.73661 14.4508 4.26777C14.8025 3.79893 15 3.16304 15 2.5C15 1.83696 14.8025 1.20107 14.4508 0.732234C14.0992 0.263393 13.6223 0 13.125 0Z",fill:"white"})],-1)])),_:2},1032,["onClick"])]))),128)),a(p,{class:"mt-2",message:l(t).errors.materials},null,8,["message"]),a(_,{class:"mt-1",onClick:e[4]||(e[4]=m(s=>b(V.value,l(t).materials),["prevent"]))},{default:r(()=>e[8]||(e[8]=[g("Add material")])),_:1})]),o("div",T,[a(c,{value:"Equipments"}),(i(!0),u(d,null,f(k.value.count,s=>(i(),u("div",{key:s,class:"flex justify-between items-center w-full gap-2 mt-1"},[a($,{class:"block w-full",modelValue:l(t).equipments[s-1].id,"onUpdate:modelValue":n=>l(t).equipments[s-1].id=n,required:""},{default:r(()=>[(i(!0),u(d,null,f(C.equipments,n=>(i(),u("option",{value:n.id},U(n.name),9,G))),256))]),_:2},1032,["modelValue","onUpdate:modelValue"]),a(w,{required:"",id:"end_date",type:"number",class:"mt-1 block w-full",modelValue:l(t).equipments[s-1].count,"onUpdate:modelValue":n=>l(t).equipments[s-1].count=n,placeholder:"Count"},null,8,["modelValue","onUpdate:modelValue"]),a(j,{onClick:m(n=>y(s,l(t).equipments,k.value),["prevent"])},{default:r(()=>e[9]||(e[9]=[o("svg",{width:"15",height:"5",viewBox:"0 0 15 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M13.125 0H1.875C1.37772 0 0.900805 0.263393 0.549175 0.732234C0.197544 1.20107 0 1.83696 0 2.5C0 3.16304 0.197544 3.79893 0.549175 4.26777C0.900805 4.73661 1.37772 5 1.875 5H13.125C13.6223 5 14.0992 4.73661 14.4508 4.26777C14.8025 3.79893 15 3.16304 15 2.5C15 1.83696 14.8025 1.20107 14.4508 0.732234C14.0992 0.263393 13.6223 0 13.125 0Z",fill:"white"})],-1)])),_:2},1032,["onClick"])]))),128)),a(p,{class:"mt-2",message:l(t).errors.equipments},null,8,["message"]),a(_,{class:"mt-1",onClick:e[5]||(e[5]=m(s=>b(k.value,l(t).equipments),["prevent"]))},{default:r(()=>e[10]||(e[10]=[g("Add equipment")])),_:1})]),o("div",I,[a(c,{value:"Construction Crews"}),(i(!0),u(d,null,f(x.value.count,s=>(i(),u("div",{key:s,class:"flex justify-between items-center w-full gap-2 mt-1"},[a($,{required:"",class:"block w-full",modelValue:l(t).construction_crews[s-1].id,"onUpdate:modelValue":n=>l(t).construction_crews[s-1].id=n},{default:r(()=>[(i(!0),u(d,null,f(C.construction_crews,n=>(i(),u("option",{value:n.id},U(n.name),9,J))),256))]),_:2},1032,["modelValue","onUpdate:modelValue"]),a(j,{onClick:m(n=>y(s,l(t).construction_crews,x.value),["prevent"])},{default:r(()=>e[11]||(e[11]=[o("svg",{width:"15",height:"5",viewBox:"0 0 15 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M13.125 0H1.875C1.37772 0 0.900805 0.263393 0.549175 0.732234C0.197544 1.20107 0 1.83696 0 2.5C0 3.16304 0.197544 3.79893 0.549175 4.26777C0.900805 4.73661 1.37772 5 1.875 5H13.125C13.6223 5 14.0992 4.73661 14.4508 4.26777C14.8025 3.79893 15 3.16304 15 2.5C15 1.83696 14.8025 1.20107 14.4508 0.732234C14.0992 0.263393 13.6223 0 13.125 0Z",fill:"white"})],-1)])),_:2},1032,["onClick"])]))),128)),a(p,{class:"mt-2",message:l(t).errors.materials},null,8,["message"]),a(_,{class:"mt-1",onClick:e[6]||(e[6]=m(s=>b(x.value,l(t).construction_crews),["prevent"]))},{default:r(()=>e[12]||(e[12]=[g("Add construction crew")])),_:1})]),o("div",K,[a(_,{class:H(["ms-4",{"opacity-25":l(t).processing}]),disabled:l(t).processing},{default:r(()=>e[13]||(e[13]=[g(" Create ")])),_:1},8,["class","disabled"])])],32)])])]),_:1})],64))}};export{le as default};
