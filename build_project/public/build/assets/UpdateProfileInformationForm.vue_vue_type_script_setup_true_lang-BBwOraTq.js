import{d as V,s as x,C as b,k as w,x as C,g as f,o as p,b as n,h as v,a as l,u as a,j as P,f as c,w as y,P as $,y as S,T as U,e as K,q as I}from"./app-CCJcod2T.js";import{_ as m,a as u,b as d}from"./TextInput.vue_vue_type_script_setup_true_lang-CHc_z21z.js";import{P as N}from"./PrimaryButton-Bdb1pigu.js";const B={key:0},D={class:"mt-2 text-sm text-gray-800"},E={class:"mt-2 text-sm font-medium text-green-600"},T={class:"flex items-center gap-4"},F={key:0,class:"text-sm text-gray-600"},A=V({__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:{},status:{}},setup(L){const r=x().props.auth.user,s=b({first_name:r.first_name,last_name:r.last_name,patronymic:r.patronymic,phone:r.phone,email:r.email}),i=w(null),g=o=>{const e=o.replace(/\D/g,"");let t="";return e.length>0&&(t=`+${e.substring(0,1)}`),e.length>1&&(t+=` (${e.substring(1,4)}`),e.length>4&&(t+=`) ${e.substring(4,7)}`),e.length>7&&(t+=`-${e.substring(7,9)}`),e.length>9&&(t+=`-${e.substring(9,11)}`),t},_=o=>{const e=o.target,t=e.selectionStart,k=e.value.length;s.phone=g(e.value),t&&s.phone.length>k&&I(()=>{i.value&&i.value.setSelectionRange(t+1,t+1)})},h=o=>{const e=[46,8,9,27,13,110],t=[35,36,37,38,39,40];e.includes(o.keyCode)||o.keyCode===65&&o.ctrlKey||t.includes(o.keyCode)||(o.shiftKey||o.keyCode<48||o.keyCode>57)&&(o.keyCode<96||o.keyCode>105)&&o.preventDefault()};return C(()=>{i.value&&i.value.value&&(s.phone=g(i.value.value))}),(o,e)=>(p(),f("section",null,[e[9]||(e[9]=n("header",null,[n("h2",{class:"text-lg font-medium text-gray-900"}," Profile Information "),n("p",{class:"mt-1 text-sm text-gray-600"}," Update your account's profile information and email address. ")],-1)),n("form",{onSubmit:e[5]||(e[5]=K(t=>a(s).patch(o.route("profile.update")),["prevent"])),class:"mt-6 space-y-6"},[n("div",null,[l(m,{for:"last_name",value:"Last name"}),l(u,{id:"last_name",type:"text",class:"mt-1 block w-full",modelValue:a(s).last_name,"onUpdate:modelValue":e[0]||(e[0]=t=>a(s).last_name=t),autofocus:"",autocomplete:"name"},null,8,["modelValue"]),l(d,{class:"mt-2",message:a(s).errors.last_name},null,8,["message"])]),n("div",null,[l(m,{for:"first_name",value:"First name"}),l(u,{id:"first_name",type:"text",class:"mt-1 block w-full",modelValue:a(s).first_name,"onUpdate:modelValue":e[1]||(e[1]=t=>a(s).first_name=t),autofocus:"",autocomplete:"name"},null,8,["modelValue"]),l(d,{class:"mt-2",message:a(s).errors.first_name},null,8,["message"])]),n("div",null,[l(m,{for:"patronymic",value:"Patronymic"}),l(u,{id:"patronymic",type:"text",class:"mt-1 block w-full",modelValue:a(s).patronymic,"onUpdate:modelValue":e[2]||(e[2]=t=>a(s).patronymic=t),autofocus:"",autocomplete:"name"},null,8,["modelValue"]),l(d,{class:"mt-2",message:a(s).errors.patronymic},null,8,["message"])]),n("div",null,[l(m,{for:"phone",value:"Phone number"}),l(u,{id:"phone",class:"mt-1 block w-full",modelValue:a(s).phone,"onUpdate:modelValue":e[3]||(e[3]=t=>a(s).phone=t),autofocus:"",autocomplete:"name",type:"tel",ref_key:"phoneInput",ref:i,onInput:_,onKeydown:h,placeholder:"+7 (___) ___-__-__"},null,8,["modelValue"]),l(d,{class:"mt-2",message:a(s).errors.phone},null,8,["message"])]),n("div",null,[l(m,{for:"email",value:"Email"}),l(u,{id:"email",type:"text",class:"mt-1 block w-full",modelValue:a(s).email,"onUpdate:modelValue":e[4]||(e[4]=t=>a(s).email=t),autocomplete:"username"},null,8,["modelValue"]),l(d,{class:"mt-2",message:a(s).errors.email},null,8,["message"])]),o.mustVerifyEmail&&a(r).email_verified_at===null?(p(),f("div",B,[n("p",D,[e[7]||(e[7]=c(" Your email address is unverified. ")),l(a($),{href:o.route("verification.send"),method:"post",as:"button",class:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:y(()=>e[6]||(e[6]=[c(" Click here to re-send the verification email. ")])),_:1},8,["href"])]),P(n("div",E," A new verification link has been sent to your email address. ",512),[[S,o.status==="verification-link-sent"]])])):v("",!0),n("div",T,[l(N,{disabled:a(s).processing},{default:y(()=>e[8]||(e[8]=[c("Save")])),_:1},8,["disabled"]),l(U,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:y(()=>[a(s).recentlySuccessful?(p(),f("p",F," Saved. ")):v("",!0)]),_:1})])],32)]))}});export{A as _};
